const e={tipStateArray:[0,0,0,0,0,0],tipValue:0,currencyRate:1,currencyState:1,currencySymbols:["£","€","¥","PLN ","CHF ","₴","$","VT "],inputValidityArray:[0,1,0],areAllValid(){return!!this.inputValidityArray.every((e=>1==e))}},t=document.querySelectorAll(".button--tipButton"),n=[document.getElementById("input--bill"),document.getElementById("input--tip"),document.getElementById("input--people")],r=[document.getElementById("warningInfo--bill"),document.getElementById("warningInfo--tip"),document.getElementById("warningInfo--people")],i=document.getElementById("button--reset"),a=document.getElementById("results--tip"),l=document.getElementById("results__tipHeader"),o=document.getElementById("results__tipHeader--person"),c=document.getElementById("results--total"),y=document.getElementById("results__totalHeader"),u=document.getElementById("results__totalHeader--person"),s=document.getElementById("currencyInfo"),d=document.getElementById("button--currency"),p=document.getElementById("currencyModule"),m=document.getElementById("input--currency-bill"),f=document.getElementById("input--currency-user"),S=[m,f],g=document.getElementById("extraInfoBillCurrencyIcon"),L=document.getElementById("extraInfoBillCurrencyText"),b=document.getElementById("extraInfoUserCurrencyIcon"),v=document.getElementById("extraInfoUserCurrencyText"),M=()=>{i.classList.add("button--enabled")},E=(t,n)=>{e.inputValidityArray[n]=0,r[n].style.display="inline-block",t.validity.rangeOverflow?r[n].textContent="Too big numbo bro":t.validity.rangeUnderflow?(r[n].style.display="inline-block",r[n].textContent="No negative numbos bro"):t.validity.badInput?r[n].textContent="Please only numbos bro":t.validity.stepMismatch&&(r[n].textContent="Please type a whole number")},H=()=>{I(),e.areAllValid()?h():x()},h=()=>{const t=n[0].value*e.currencyRate,r=1+e.tipValue/100,i=(t*r-t)/n[2].value;a.innerHTML=Math.round(100*i)/100,c.innerHTML=Math.round(t*r/n[2].value*100)/100,"Infinity"!=a.innerHTML&&"Infinity"!=c.innerHTML&&"NaN"!=a.innerHTML&&"NaN"!=c.innerHTML||(a.innerHTML="0",c.innerHTML="0"),a.innerHTML>1e8?a.innerHTML="mного":a.innerHTML>1e6?a.innerHTML=Math.round(a.innerHTML/1e6*100)/100+"M":a.innerHTML>1e4&&(a.innerHTML=Math.round(a.innerHTML/1e3*100)/100+"k"),a.innerHTML=e.currencySymbols[e.currencyState]+a.innerHTML,c.innerHTML>1e8?c.innerHTML="mного":c.innerHTML>1e6?c.innerHTML=Math.round(c.innerHTML/1e6*100)/100+"M":c.innerHTML>1e4&&(c.innerHTML=Math.round(c.innerHTML/1e3*100)/100+"k"),c.innerHTML=e.currencySymbols[e.currencyState]+c.innerHTML,T()},I=()=>{window.screen.width>500?(a.style.fontSize="34.5px",c.style.fontSize="34.5px"):(a.style.fontSize="28.8px",c.style.fontSize="28.8px"),l.style.fontSize="16.7px",o.style.fontSize="13.9px",y.style.fontSize="16.7px",u.style.fontSize="13.9px"},T=()=>{let e,t,n,r,i,s,d,p,m,f,S,g,L,b,v,M,E,H;for(;a.offsetHeight>45||l.offsetHeight>30;)e=window.getComputedStyle(a).getPropertyValue("font-size"),t=window.getComputedStyle(l).getPropertyValue("font-size"),n=window.getComputedStyle(o).getPropertyValue("font-size"),r=e.slice(0,e.length-2),i=t.slice(0,t.length-2),s=n.slice(0,n.length-2),d=r-.5+"px",p=i-.5+"px",m=s-.5+"px",a.style.fontSize=d,l.style.fontSize=p,o.style.fontSize=p;for(;c.offsetHeight>45||y.offsetHeight>30;)f=window.getComputedStyle(c).getPropertyValue("font-size"),S=window.getComputedStyle(y).getPropertyValue("font-size"),g=window.getComputedStyle(u).getPropertyValue("font-size"),L=f.slice(0,f.length-2),b=S.slice(0,S.length-2),v=g.slice(0,g.length-2),M=L-.5+"px",E=b-.5+"px",H=v-.5+"px",c.style.fontSize=M,y.style.fontSize=E,u.style.fontSize=H;const h=Math.min(r,L),I=Math.min(i,b),T=Math.min(s,v);a.style.fontSize=h-.5+"px",c.style.fontSize=h-.5+"px",l.style.fontSize=I-.5+"px",y.style.fontSize=I-.5+"px",o.style.fontSize=T-.5+"px",u.style.fontSize=T-.5+"px"},x=()=>{a.innerHTML=e.currencySymbols[e.currencyState]+"0",c.innerHTML=e.currencySymbols[e.currencyState]+"0"},z=()=>{switch(f.value){case"GBP":e.currencyState=0;break;case"EUR":e.currencyState=1;break;case"JPY":e.currencyState=2;break;case"PLN":e.currencyState=3;break;case"CHF":e.currencyState=4;break;case"UAH":e.currencyState=5;break;case"USD":e.currencyState=6;break;case"VUV":e.currencyState=7}};t.forEach(((r,i)=>{r.addEventListener("click",(function(){((r,i)=>{1==e.tipStateArray[i]&&5!=i?(r.classList.remove("button--enabled"),e.tipStateArray[i]=0,e.tipValue=0):!e.tipStateArray.some((e=>1==e))||1==e.tipStateArray[5]&&5==i?e.tipStateArray.every((e=>0==e))&&5!=i&&(r.classList.add("button--enabled"),e.tipStateArray[i]=1,e.tipValue=t[i].value):(t.forEach((e=>e.classList.remove("button--enabled"))),5!=i&&(n[1].value=""),e.tipValue=0,e.tipStateArray.forEach(((e,t,n)=>n[t]=0)),5!=i&&(r.classList.add("button--enabled"),e.tipStateArray[i]=1,e.tipValue=t[i].value))})(r,i),e.tipStateArray.some((e=>1==e))&&M(),H()}))})),d.addEventListener("click",(function(){d.style.display="none",p.style.display="flex",M()})),S.forEach(((t,n,r)=>{t.addEventListener("input",(function(){r[0].value!=r[1].value?(async(e,t)=>{const n=`https://api.getgeoapi.com/v2/currency/convert?api_key=8a3dafc6208f3fb608102288354dfcc672db22bf&from=${e}&to=${t}&amount=1&format=json`;try{const e=await fetch(n);if(e.ok)return await e.json()}catch(e){console.log(e)}})(r[0].value,r[1].value).then((t=>(t=>{const n=S[0].value,r=S[1].value,i=Object.values(t.rates)[0].rate,a=Math.round(100*i)/100,l=t.updated_date;e.currencyRate=i,z(),s.style.display="inline-block",s.innerHTML=`1 ${n} = ${a} ${r} (${l})`})(t))).then(H):(z(),currencyInfo.style.display="none",e.currencyRate=1,H())}))})),i.addEventListener("click",(function(){I(),n.forEach((e=>e.value="")),n.forEach((e=>e.classList.remove("input--warning"))),t.forEach((e=>e.classList.remove("button--enabled"))),e.tipStateArray.forEach((e=>0)),e.inputValidityArray.forEach((e=>0)),e.inputValidityArray[1]=1,e.tipValue=0,e.currencyState=1,e.currencyRate=1,m.value="EUR",f.value="EUR",a.innerHTML=e.currencySymbols[e.currencyState]+0,c.innerHTML=e.currencySymbols[e.currencyState]+0,r.forEach((e=>e.textContent="")),d.style.display="inline-block",p.style.display="none",s.style.display="none",i.classList.remove("button--enabled")})),n.forEach(((t,i)=>{t.addEventListener("input",(function(){1==i&&(e.tipValue=n[1].value),((t,n)=>{t.validity.valid?(r[n].style.display="none",t.classList.remove("input--warning"),e.inputValidityArray[n]=1,1==n&&(e.tipStateArray[5]=1)):E(t,n)})(t,i),M(),H()}))})),g.addEventListener("mouseover",(function(){L.style.zIndex="1",L.style.opacity="0.93"})),g.addEventListener("mouseout",(function(){L.style.opacity="0",setTimeout((()=>{L.style.zIndex="-1"}),200)})),b.addEventListener("mouseover",(function(){v.style.zIndex="1",v.style.opacity="0.93"})),b.addEventListener("mouseout",(function(){v.style.opacity="0",setTimeout((()=>{v.style.zIndex="-1"}),200)}));
//# sourceMappingURL=index.0d5a8065.js.map
